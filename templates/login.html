<!--Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
{% load static %}
<!DOCTYPE HTML>
<html lang="zxx">

<head>
	<title>Latest Login Form Responsive Widget Template :: w3layouts</title>
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
	<!-- Meta tag Keywords -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8" />
	<meta name="keywords" content="Latest Login Form Responsive Widget,Login form widgets, Sign up Web forms , Login signup Responsive web form,Flat Pricing table,Flat Drop downs,Registration Forms,News letter Forms,Elements" />
	<script>
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	
		
	<!-- Meta tag Keywords -->

	<!-- css files -->
	<link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css" media="all" />
	<!-- Style-CSS -->
	<link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
	
	
	<!-- Font-Awesome-Icons-CSS -->
	<!-- //css files -->

	<!-- web-fonts -->
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i&amp;subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese"
	 rel="stylesheet">
	<!-- //web-fonts -->
</head>

<body>
	<div class="main-bg">
		<!-- title -->
		<h1> Login Form</h1>
		<!-- //title -->
		<!-- content -->
		<div class="sub-main-w3">
			<div class="bg-content-w3pvt">
				<div class="top-content-style">
					<img src="images/user.jpg" alt="" />
				</div>
				<script>document.getElementById("myForm").reset();</script>
				<div>
				<form onsubmit ="return  validatee()" action="{% url 'login' %}" method="post" id="myForm">
					{% csrf_token %}
					<p class="legend">Login Here<span class="fa fa-hand-o-down"></span></p>
					<div class="input"><br>
						
						<input type="email" placeholder="Enter your email " name="email" onkeyup='emailValidation(this)' required/>
						{% comment %} <span class="error-msg" id="email"> </span><br> {% endcomment %}
						<span class="fa fa-envelope"  id="email"></span> 
					</div>
					<div class="input">
						
						<input type="password" placeholder="Password" name="password" id="pass1" onkeyup='passwordValidation(this)' required/><br><b>
						<span class="error-msg" id="password"></span><br>
						<span class="fa fa-unlock"></span>
					</div>
					<div style="margin-left:-10%;">
						<div class="g-recaptcha" data-sitekey="6Lf-rackAAAAAFhQ1IRRp5_B0FB5fP7nSBOH-aJ5"></div>
                         <div id="g-recaptcha-error"></div>
					</div>
					
					<!--<button type="submit" class="btn submit" name ="submit">
						<span class="fa fa-sign-in"></span>
					</button>-->
					<button type="submit" class="btn submit">LOGIN</button>
				</div>
				
				</form>
				<div>
					{% for message in messages %}
						<h3>{{message}}</h3>
						{% endfor %}
				</div>
				<a href="http://127.0.0.1:8000/forgotPassword" class="bottom-text-w3ls">Forgot Password?</a>
				<a href="http://127.0.0.1:8000/newregis/" class="bottom-text-w3ls">Dont Have a account?Register Here</a>
			</div>
		</div>
		<!-- //content -->
		<!-- copyright -->
		<div class="copyright">
			{% comment %} <h2>&copy; 2019 Latest Login Form. All rights reserved | Design by
				<a href="http://w3layouts.com" target="_blank">W3layouts</a>
			</h2> {% endcomment %}
		</div>
		<!-- //copyright -->
	</div>

	<script type="text/javascript">
		function emailValidation(inputTxt){
			// ^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$
			var regx = /^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/;
			var textField = document.getElementById("email");
		
			if(inputTxt.value != '' ){
				if(inputTxt.value.match(regx)){
					textField.textContent = '';
					textField.style.color = "green";
				}else{
					textField.textContent = 'email is not valid!!!';
					textField.style.color = "red";
				}
			}else{
				textField.textContent = 'your input is empty';
				textField.style.color = "red";
			}
		}
		function passwordValidation(inputTxt){

			var regx = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,}/;
			var textField = document.getElementById("password");
		
			if(inputTxt.value != '' ){
					if(inputTxt.value.match(regx)){
						textField.textContent = '';
						textField.style.color = "green";
		
					}else{
						textField.textContent = 'Must contain at least one number and one uppercase and lowercase letter and aleast 5 characters';
						textField.style.color = "red";
					}
			}else{
				textField.textContent = 'your input is empty';
				textField.style.color = "red";
			}
		}
		function passwordValidation(inputTxt){

    var regx = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,}/;
    var textField = document.getElementById("password");

    if(inputTxt.value != '' ){
            if(inputTxt.value.match(regx)){
                textField.textContent = '';
                textField.style.color = "green";

            }else{
                textField.textContent = 'Must contain at least one number and one uppercase and lowercase letter and aleast 5 characters';
                textField.style.color = "red";
            }
    }else{
        textField.textContent = 'your input is empty';
        textField.style.color = "red";
    }
        }
		function validatee() {
			var pass=document.getElementById('password').value;
			var email=document.getElementById('email').value;
			
			if (grecaptcha.getResponse() == "") {

				document.getElementById('g-recaptcha-error').textContent = "Enter the Captcha";
				document.getElementById("g-recaptcha-error").style.color = "red";
				return false;
			}
			else if (grecaptcha.getResponse() == "") {
				alert(response)
				document.getElementById('g-recaptcha-error').innerHTML =
					'<span style="color:red;">This field is required.</span>';
				return false;
			} else if(!emailValidation(email)){
				document.getElementById('email').textContent="please enter the email";
				document.getElementById('email').style.color="red";
				return false
			}
			else {
				return true;
			}


}
	</script>

</body>

</html>